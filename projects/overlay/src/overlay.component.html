@if (overlayInfos$ | async; as overlayInfos) {
    <ng-template
        #overlayCmp
        cdk-connected-overlay
        [cdkConnectedOverlayHasBackdrop]="hasBackdrop"
        [cdkConnectedOverlayBackdropClass]="overlayBackdropClass"
        [cdkConnectedOverlayOpen]="true"
        [cdkConnectedOverlayOffsetY]="overlayInfos.offsetY"
        [cdkConnectedOverlayOffsetX]="overlayInfos.offsetX"
        [cdkConnectedOverlayOrigin]="overlayInfos.origin"
        (backdropClick)="close()"
        (detach)="close()"
        [cdkConnectedOverlayPositions]="positionPairs"
        [cdkConnectedOverlayWidth]="overlayInfos.width">
        <!-- prettier-ignore -->
        @if (contentTemplate) {
            <ng-template
            [ngTemplateOutlet]="contentTemplate"
            [ngTemplateOutletContext]="{ $implicit: overlayInfos.context }">
            </ng-template>
         }
        @else {
            <ng-content></ng-content>
        }
    </ng-template>
}
